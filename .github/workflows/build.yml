# Name of the workflow (appears in GitHub UI)
name: Basic Build Workflow

# When should this workflow run
on:
    push:                       # Runs when code is pushed
        branches: [main]        # Only on main branch
    pull_request:               # Runs when PR is created
        branches: [main]

# What should happen?
jobs:
    build:                      # Job name
        runs-on: ubuntu-latest  # Which operating system to use

        steps:
        # Step 1: Get the code
        - name: Checkout code
          uses: actions/checkout@v4

        # Step 2: Set up programming environment (example: Node.js)
        - name: Setup Node.js
          uses: actions/setup-node@v4
          with:
            node-version: '20'

        # Step 3: Install dependencies
        - name: Install dependencies
          run: npm install

        # Step 4: Run build
        - name: Build project
          run: npm run build

        # Step 5: Run tests
        - name: Run tests
          run: npm test